(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
'use strict';

module.exports = function (data) {
  var fmt = d3.format('.3f');

  var scy = d3.scaleLinear().domain(data.yearDomain()).range([0, 250]);

  var scm = d3.scaleLinear().domain(data.monthDomain()).range([0, 100]);

  var scc = d3.scaleSequential(d3.interpolateYlOrRd).domain(data.varianceDomain());

  var mouseOver = function mouseOver() {
    box.attr('display', null);
  };

  var mouseMove = function mouseMove(d) {
    var x = Math.round(d3.event.layerX) + 90;
    var y = Math.round(d3.event.layerY) + 10;

    box.attr('transform', 'translate(' + x + ',' + y + ')');

    box.select('#d').text(d.year + ', ' + data.monthData()[d.month - 1][0]);

    box.select('#v').text(fmt(d.variance + data.baseTemperature()) + ' (' + fmt(d.variance) + ') Â°C');
  };

  var mouseOut = function mouseOut() {
    box.attr('display', 'none');
  };

  d3.select('#canvas').selectAll('g').data(data.yearData()).enter().selectAll('rect').data(function (d) {
    return d;
  }).enter().append('rect').on('mouseover', mouseOver).on('mousemove', mouseMove).on('mouseout', mouseOut).attr('x', function (d) {
    return scy(d.year);
  }).attr('y', function (d) {
    return scm(d.month);
  }).attr('width', 2).attr('height', 9).attr('style', function (d) {
    return 'fill: ' + scc(d.variance);
  });

  var box = d3.select('#box').attr('display', 'none');

  box.append('rect').attr('id', 'b').attr('width', 42).attr('height', 23);

  box.append('text').attr('id', 'd');

  box.append('text').attr('id', 'v');
};

},{}],2:[function(require,module,exports){
'use strict';

var res = function () {
  var url = 'https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/global-temperature.json';
  var data = void 0;
  var _baseTemperature = void 0;
  var _varianceDomain = void 0;
  var _monthDomain = void 0;
  var _yearDomain = void 0;

  return {
    do: function _do(f) {
      d3.json(url, function (error, res) {
        if (error) {
          console.log(res.status, res.responseText);
        } else {
          var actYear = 0;
          var thisYear = void 0;
          _baseTemperature = res.baseTemperature;
          _yearDomain = d3.extent(res.monthlyVariance, function (d) {
            return d.year;
          });
          _monthDomain = [1, 12];
          _varianceDomain = d3.extent(res.monthlyVariance, function (d) {
            return (d.variance + 1) / 2;
          });
          data = res.monthlyVariance.reduce(function (p, c) {
            if (actYear !== c.year) {
              actYear = c.year;
              p.push(thisYear = []);
            }
            thisYear.push(c);
            return p;
          }, []);
          f();
        }
      });
    },
    sel: function sel(fYear, fMonth) {
      fYear += 'y';
      return data[fYear][fMonth - 1];
    },
    baseTemperature: function baseTemperature() {
      return _baseTemperature;
    },
    varianceDomain: function varianceDomain() {
      return _varianceDomain;
    },
    monthDomain: function monthDomain() {
      return _monthDomain;
    },
    monthData: function monthData() {
      return [['January', 1], ['February', 2], ['March', 3], ['April', 4], ['May', 5], ['June', 6], ['July', 7], ['August', 8], ['September', 9], ['October', 10], ['November', 11], ['December', 12]];
    },
    yearDomain: function yearDomain() {
      return _yearDomain;
    },
    yearData: function yearData() {
      return data;
    }
  };
}();

module.exports = res;

},{}],3:[function(require,module,exports){
'use strict';

var data = require('./data.js');

data.do(function () {
  require('./yaxis.js')(data);
  require('./xaxis.js')(data);
  require('./canvas.js')(data);
});

},{"./canvas.js":1,"./data.js":2,"./xaxis.js":4,"./yaxis.js":5}],4:[function(require,module,exports){
'use strict';

module.exports = function (data) {
  var sc = d3.scaleLinear().domain(data.yearDomain()).range([0, 251]);

  var ax = d3.axisBottom(sc).tickFormat(d3.format('d'));

  d3.select('#bottomAxis').attr('transform', 'translate(83, 155)').attr('style', 'font-family: sans-serif; font-size: 5px').call(ax);
};

},{}],5:[function(require,module,exports){
'use strict';

module.exports = function (data) {
  var sc = d3.scaleLinear().domain(data.monthDomain()).range([0, 100]);

  var root = d3.select('#leftAxis').attr('transform', 'translate(0, 40)').attr('style', 'font-family: sans-serif; font-size: 5px').selectAll('g').data(data.monthData()).enter().append('g');

  root.append('text').attr('text-anchor', 'end').text(function (d) {
    return d[0];
  }).attr('y', function (d) {
    return sc(d[1]) + 6;
  }).attr('x', 78);
};

},{}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY2FudmFzLmpzIiwic3JjL2pzL2RhdGEuanMiLCJzcmMvanMvaW5kZXguanMiLCJzcmMvanMveGF4aXMuanMiLCJzcmMvanMveWF4aXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE9BQU8sT0FBUCxHQUFpQixVQUFDLElBQUQsRUFBVTtBQUN6QixNQUFJLE1BQU0sR0FBRyxNQUFILENBQVUsS0FBVixDQUFWOztBQUVBLE1BQUksTUFBTSxHQUFHLFdBQUgsR0FDUCxNQURPLENBQ0EsS0FBSyxVQUFMLEVBREEsRUFFUCxLQUZPLENBRUQsQ0FBQyxDQUFELEVBQUksR0FBSixDQUZDLENBQVY7O0FBSUEsTUFBSSxNQUFNLEdBQUcsV0FBSCxHQUNQLE1BRE8sQ0FDQSxLQUFLLFdBQUwsRUFEQSxFQUVQLEtBRk8sQ0FFRCxDQUFDLENBQUQsRUFBSSxHQUFKLENBRkMsQ0FBVjs7QUFJQSxNQUFJLE1BQU0sR0FBRyxlQUFILENBQW1CLEdBQUcsaUJBQXRCLEVBQ1AsTUFETyxDQUNBLEtBQUssY0FBTCxFQURBLENBQVY7O0FBR0EsTUFBSSxZQUFZLFNBQVosU0FBWSxHQUFNO0FBQ3BCLFFBQUksSUFBSixDQUFTLFNBQVQsRUFBb0IsSUFBcEI7QUFDRCxHQUZEOztBQUlBLE1BQUksWUFBWSxTQUFaLFNBQVksQ0FBQyxDQUFELEVBQU87QUFDckIsUUFBSSxJQUFJLEtBQUssS0FBTCxDQUFXLEdBQUcsS0FBSCxDQUFTLE1BQXBCLElBQThCLEVBQXRDO0FBQ0EsUUFBSSxJQUFJLEtBQUssS0FBTCxDQUFXLEdBQUcsS0FBSCxDQUFTLE1BQXBCLElBQThCLEVBQXRDOztBQUVBLFFBQ0csSUFESCxDQUNRLFdBRFIsRUFDcUIsZUFBZSxDQUFmLEdBQW1CLEdBQW5CLEdBQXlCLENBQXpCLEdBQTZCLEdBRGxEOztBQUdBLFFBQ0csTUFESCxDQUNVLElBRFYsRUFFRyxJ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QUZOLEVBR1IsU0FIUSxDQUdFLEdBSEYsRUFJUixJQUpRLENBSUgsS0FBSyxTQUFMLEVBSkcsRUFLUixLQUxRLEdBTVIsTUFOUSxDQU1ELEdBTkMsQ0FBWDs7QUFRQSxPQUNHLE1BREgsQ0FDVSxNQURWLEVBRUcsSUFGSCxDQUVRLGFBRlIsRUFFdUIsS0FGdkIsRUFHRyxJQUhILENBR1EsYUFBSztBQUFFLFdBQU8sRUFBRSxDQUFGLENBQVA7QUFBYSxHQUg1QixFQUlHLElBSkgsQ0FJUSxHQUpSLEVBSWEsYUFBSztBQUFFLFdBQU8sR0FBRyxFQUFFLENBQUYsQ0FBSCxJQUFXLENBQWxCO0FBQXFCLEdBSnpDLEVBS0csSUFMSCxDQUtRLEdBTFIsRUFLYSxFQUxiO0FBTUQsQ0FuQkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfXJldHVybiBlfSkoKSIsIm1vZHVsZS5leHBvcnRzID0gKGRhdGEpID0+IHtcbiAgbGV0IGZtdCA9IGQzLmZvcm1hdCgnLjNmJylcblxuICBsZXQgc2N5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgIC5kb21haW4oZGF0YS55ZWFyRG9tYWluKCkpXG4gICAgLnJhbmdlKFswLCAyNTBdKVxuICBcbiAgbGV0IHNjbSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAuZG9tYWluKGRhdGEubW9udGhEb21haW4oKSlcbiAgICAucmFuZ2UoWzAsIDEwMF0pXG5cbiAgbGV0IHNjYyA9IGQzLnNjYWxlU2VxdWVudGlhbChkMy5pbnRlcnBvbGF0ZVlsT3JSZClcbiAgICAuZG9tYWluKGRhdGEudmFyaWFuY2VEb21haW4oKSlcblxuICBsZXQgbW91c2VPdmVyID0gKCkgPT4ge1xuICAgIGJveC5hdHRyKCdkaXNwbGF5JywgbnVsbClcbiAgfVxuICBcbiAgbGV0IG1vdXNlTW92ZSA9IChkKSA9PiB7XG4gICAgbGV0IHggPSBNYXRoLnJvdW5kKGQzLmV2ZW50LmxheWVyWCkgKyA5MFxuICAgIGxldCB5ID0gTWF0aC5yb3VuZChkMy5ldmVudC5sYXllclkpICsgMTBcblxuICAgIGJveFxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHggKyAnLCcgKyB5ICsgJyknKVxuICAgIFxuICAgIGJveFxuICAgICAgLnNlbGVjdCgnI2QnKVxuICAgICAgLnRleHQoZC55ZWFyICsgJywgJyArIGRhdGEubW9udGhEYXRhKClbZC5tb250aCAtIDFdWzBdKVxuXG4gICAgYm94XG4gICAgICAuc2VsZWN0KCcjdicpXG4gICAgICAudGV4dChmbXQoZC52YXJpYW5jZSArIGRhdGEuYmFzZVRlbXBlcmF0dXJlKCkpICsgJyAoJyArIGZtdChkLnZhcmlhbmNlKSArICcpIMKwQycpXG4gIH1cbiAgICBcbiAgbGV0IG1vdXNlT3V0ID0gKCkgPT4ge1xuICAgIGJveC5hdHRyKCdkaXNwbGF5JywgJ25vbmUnKVxuICB9XG4gICAgXG4gIGQzLnNlbGVjdCgnI2NhbnZhcycpXG4gICAgLnNlbGVjdEFsbCgnZycpXG4gICAgLmRhdGEoZGF0YS55ZWFyRGF0YSgpKVxuICAgIC5lbnRlcigpXG4gICAgLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgLmRhdGEoIChkKSA9PiB7IHJldHVybiBkIH0gKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgncmVjdCcpXG4gICAgLm9uKCdtb3VzZW92ZXInLCBtb3VzZU92ZXIpXG4gICAgLm9uKCdtb3VzZW1vdmUnLCBtb3VzZU1vdmUpXG4gICAgLm9uKCdtb3VzZW91dCcsIG1vdXNlT3V0KVxuICAgIC5hdHRyKCd4JywgZCA9PiB7IHJldHVybiBzY3koZC55ZWFyKSB9KVxuICAgIC5hdHRyKCd5JywgZCA9PiB7IHJldHVybiBzY20oZC5tb250aCkgfSlcbiAgICAuYXR0cignd2lkdGgnLCAyKVxuICAgIC5hdHRyKCdoZWlnaHQnLCA5KVxuICAgIC5hdHRyKCdzdHlsZScsIChkKSA9PiB7XG4gICAgICByZXR1cm4gJ2ZpbGw6ICcgKyBzY2MoZC52YXJpYW5jZSlcbiAgICB9KVxuXG4gIGxldCBib3ggPSBkMy5zZWxlY3QoJyNib3gnKVxuICAgIC5hdHRyKCdkaXNwbGF5JywgJ25vbmUnKVxuXG4gIGJveFxuICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRyKCdpZCcsICdiJylcbiAgICAuYXR0cignd2lkdGgnLCA0MilcbiAgICAuYXR0cignaGVpZ2h0JywgMjMpICBcblxuICBib3hcbiAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cignaWQnLCAnZCcpXG4gIFxuICBib3hcbiAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cignaWQnLCAndicpXG59XG4iLCJsZXQgcmVzID0gKCgpID0+IHtcbiAgbGV0IHVybCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRnJlZUNvZGVDYW1wL1Byb2plY3RSZWZlcmVuY2VEYXRhL21hc3Rlci9nbG9iYWwtdGVtcGVyYXR1cmUuanNvbidcbiAgbGV0IGRhdGFcbiAgbGV0IGJhc2VUZW1wZXJhdHVyZVxuICBsZXQgdmFyaWFuY2VEb21haW5cbiAgbGV0IG1vbnRoRG9tYWluXG4gIGxldCB5ZWFyRG9tYWluXG4gIFxuICByZXR1cm4ge1xuICAgIGRvOiAoZikgPT4ge1xuICAgICAgZDMuanNvbih1cmwsIChlcnJvciwgcmVzKSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5zdGF0dXMsIHJlcy5yZXNwb25zZVRleHQpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbGV0IGFjdFllYXIgPSAwXG4gICAgICAgICAgbGV0IHRoaXNZZWFyXG4gICAgICAgICAgYmFzZVRlbXBlcmF0dXJlID0gcmVzLmJhc2VUZW1wZXJhdHVyZVxuICAgICAgICAgIHllYXJEb21haW4gPSBkMy5leHRlbnQocmVzLm1vbnRobHlWYXJpYW5jZSwgKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkLnllYXJcbiAgICAgICAgICB9KVxuICAgICAgICAgIG1vbnRoRG9tYWluID0gWzEsIDEyXVxuICAgICAgICAgIHZhcmlhbmNlRG9tYWluID0gZDMuZXh0ZW50KHJlcy5tb250aGx5VmFyaWFuY2UsIChkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKGQudmFyaWFuY2UgKyAxKSAvIDIgXG4gICAgICAgICAgfSlcbiAgICAgICAgICBkYXRhID0gcmVzLm1vbnRobHlWYXJpYW5jZS5yZWR1Y2UoKHAsYykgPT4ge1xuICAgICAgICAgICAgaWYgKGFjdFllYXIgIT09IGMueWVhcikge1xuICAgICAgICAgICAgICBhY3RZZWFyID0gYy55ZWFyXG4gICAgICAgICAgICAgIHAucHVzaCh0aGlzWWVhciA9IFtdKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpc1llYXIucHVzaChjKVxuICAgICAgICAgICAgcmV0dXJuIHBcbiAgICAgICAgICB9LCBbXSlcbiAgICAgICAgICBmKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LFxuICAgIHNlbDogKGZZZWFyLCBmTW9udGgpID0+IHtcbiAgICAgIGZZZWFyICs9ICd5J1xuICAgICAgcmV0dXJuIGRhdGFbZlllYXJdW2ZNb250aCAtIDFdXG4gICAgfSxcbiAgICBiYXNlVGVtcGVyYXR1cmU6ICgpID0+IHsgcmV0dXJuIGJhc2VUZW1wZXJhdHVyZSB9LFxuICAgIHZhcmlhbmNlRG9tYWluOiAoKSA9PiB7IHJldHVybiB2YXJpYW5jZURvbWFpbiB9LFxuICAgIG1vbnRoRG9tYWluOiAoKSA9PiB7IHJldHVybiBtb250aERvbWFpbiB9LFxuICAgIG1vbnRoRGF0YTogKCkgPT4geyBcbiAgICAgIHJldHVybiBbIFxuICAgICAgICBbJ0phbnVhcnknLDFdLCBcbiAgICAgICAgWydGZWJydWFyeScsMl0sIFxuICAgICAgICBbJ01hcmNoJywzXSwgXG4gICAgICAgIFsnQXByaWwnLDRdLCBcbiAgICAgICAgWydNYXknLDVdLCBcbiAgICAgICAgWydKdW5lJyw2XSwgXG4gICAgICAgIFsnSnVseScsN10sIFxuICAgICAgICBbJ0F1Z3VzdCcsOF0sIFxuICAgICAgICBbJ1NlcHRlbWJlcicsOV0sIFxuICAgICAgICBbJ09jdG9iZXInLDEwXSwgXG4gICAgICAgIFsnTm92ZW1iZXInLDExXSwgXG4gICAgICAgIFsnRGVjZW1iZXInLDEyXSBcbiAgICAgIF0gXG4gICAgfSxcbiAgICB5ZWFyRG9tYWluOiAoKSA9PiB7IHJldHVybiB5ZWFyRG9tYWluIH0sXG4gICAgeWVhckRhdGE6ICgpID0+IHsgcmV0dXJuIGRhdGEgfVxuICB9XG59KSgpXG5cbm1vZHVsZS5leHBvcnRzID0gcmVzXG4iLCJjb25zdCBkYXRhICAgPSByZXF1aXJlKCcuL2RhdGEuanMnKVxuXG5kYXRhLmRvKCgpID0+IHtcbiAgcmVxdWlyZSgnLi95YXhpcy5qcycpIChkYXRhKVxuICByZXF1aXJlKCcuL3hheGlzLmpzJykgKGRhdGEpXG4gIHJlcXVpcmUoJy4vY2FudmFzLmpzJykoZGF0YSlcbn0pXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChkYXRhKSA9PiB7XG4gIGxldCBzYyA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAuZG9tYWluKGRhdGEueWVhckRvbWFpbigpKVxuICAgIC5yYW5nZShbMCwgMjUxXSlcbiAgXG4gIGxldCBheCA9IGQzLmF4aXNCb3R0b20oc2MpXG4gICAgLnRpY2tGb3JtYXQoZDMuZm9ybWF0KCdkJykpXG5cbiAgZDMuc2VsZWN0KCcjYm90dG9tQXhpcycpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoODMsIDE1NSknKVxuICAgIC5hdHRyKCdzdHlsZScsICdmb250LWZhbWlseTogc2Fucy1zZXJpZjsgZm9udC1zaXplOiA1cHgnKVxuICAgIC5jYWxsKGF4KVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSAoZGF0YSkgPT4ge1xuICBsZXQgc2MgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgLmRvbWFpbihkYXRhLm1vbnRoRG9tYWluKCkpXG4gICAgLnJhbmdlKFswLCAxMDBdKVxuICBcbiAgbGV0IHJvb3QgPSBkMy5zZWxlY3QoJyNsZWZ0QXhpcycpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwgNDApJylcbiAgICAuYXR0cignc3R5bGUnLCAnZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogNXB4JylcbiAgICAuc2VsZWN0QWxsKCdnJylcbiAgICAuZGF0YShkYXRhLm1vbnRoRGF0YSgpKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgnZycpXG5cbiAgcm9vdFxuICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxuICAgIC50ZXh0KGQgPT4geyByZXR1cm4gZFswXSB9KVxuICAgIC5hdHRyKCd5JywgZCA9PiB7IHJldHVybiBzYyhkWzFdKSArIDYgfSlcbiAgICAuYXR0cigneCcsIDc4KVxufVxuIl19
